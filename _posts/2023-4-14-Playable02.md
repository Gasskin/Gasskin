---
title: "Playable01 Animancer"
tags: 动画
---
一个基于Playable的扩展插件（当然你也可以基于Playable自己写一套规则）

# Basic

## 播放

挂上Animancer Component组件

![image-20230415003859923](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/img/202304150038946.png)

然后就可以直接播放了

```c#
public AnimancerComponent _Animancer;
public AnimationClip _Animation;

private void OnEnable()
{
    _Animancer.Play(_Animation);
}
```

## 事件

```c#
AnimancerState state = _Animancer.Play(_Action);
state.Time = 0;
state.Events.OnEnd = XXX;
```

## 过渡效果

可以使用`ClipTransitiond`代替`AnimationClip`

```c#
private ClipTransition _Idle;
```

![image-20230415014657175](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/img/202304150146198.png)

- **Fade Duration** 这个动作开始时，和上一个动作的混合时间，三个属性是同步改变的，分别是百分比，秒数，帧数

- **Speed** 速度

- **StartTime** 动作开始的时间，如果启用，那么会固定从指定的时间开始播放，如果不启用，那么就按照当前播放情况继续播放

  比如

  ```c#
  void Update()
  {
      if(Speed==0)   
      {
          Animancer.Play(idle)
      }
  }
  ```

  此时idle的StartTime就必须关闭，不然每一帧都会从头播放idle，会卡主

- **EndTime** 结束事件的抛出时间

当然也可以直接用代码

```c#
_Animancer.Play(_Action, 0.25f);
```



