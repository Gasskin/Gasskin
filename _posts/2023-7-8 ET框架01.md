---
title: "01 环境搭建"
tags: 服务器
---

# 必须环境

- [.NET SDK 版本高于6.0](https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0)

- Unity版本高于2020.3（C#8以上）

- Rider版本高于2021.2.2

- [MongoDB 建议下载5.x版本](https://www.mongodb.com/try/download/community)

  记得取消下图中的勾选（这是一个自带的可视化软件，但是不好用

  ![image-20230708143322509](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708143322509.png)

  配置环境变量

  ![image-20230708144422252](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708144422252.png)

  测试

  ![image-20230708144435329](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708144435329.png)

- [Robo 3T 数据库可视化软件](https://studio3t.com/download-studio3t-free/)

# ET框架导入

1. [直接下载ET 7.2 版本](https://github.com/egametang/ET/tree/release7.2)

   解压后如下

   ![image-20230708145355724](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708145355724.png)

2. 用Unity打开客户端项目，打开Scene/Init

3. 通过Unity打开C#工程（进行一次编译

   ![image-20230708152713105](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708152713105.png)

4. 编译完成后可以关闭了，然后打开ET工程中的ET.sln，编译所有工程

   ![](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153101781.png)

5. 编译完成之后可以运行，成功启动一个服务器

   ![image-20230708153234815](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153234815.png)

   没有日志，具体日志在Logs文件夹中

6. 编译客户端代码

   ![image-20230708153805053](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153805053.png)

7. 运行Init场景，登录游戏

   在Debug.log可以看到确实有网络日志

# 打包进行多人测试

**由于ET 7.2引入了HyBirdCLR热更新，所以得先接入一下**

1. 确保编辑器安装了IL2CPP

   ![image-20230708160500380](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708160500380.png)

2. 安装HyBirdCLR包，Add From Git Url: https://gitee.com/focus-creative-games/hybridclr_unity.git

3. 尝试打开Setting，如果打不开，删除ProjectSettings/HybridCLRSettings.asset，重启编辑器

   ![image-20230708162714428](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708162714428.png)

4. 安装

   ![image-20230708162752666](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708162752666.png)

**开始打包测试**

1. 编译项目代码

   ![image-20230708173302966](./img/2023-7-8%20ET%E6%A1%86%E6%9E%B601/image-20230708173302966.png)

1. 先编译HyBirdCLR

   ![image-20230708170752857](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708170752857.png)

2. 利用打包工具打包![image-20230708154146425](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708154146425.png)





















