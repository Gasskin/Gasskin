---
title: "ET|01 环境搭建"
tags: 服务器
---

# 必须环境

- [.NET SDK 版本高于6.0](https://dotnet.microsoft.com/zh-cn/download/dotnet/6.0)

- Unity版本高于2020.3（C#8以上）（推荐使用2021LTS，因为ET7继承了HyBirdCLR，用2021更加方便，其他版本问题比较难处理）

- Rider版本高于2021.2.2

- [MongoDB 建议下载5.x版本](https://www.mongodb.com/try/download/community)

  记得取消下图中的勾选（这是一个自带的可视化软件，但是不好用

  ![image-20230708143322509](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708143322509.png)

  配置环境变量

  ![image-20230708144422252](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708144422252.png)

  测试

  ![image-20230708144435329](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708144435329.png)

- [Robo 3T 数据库可视化软件](https://studio3t.com/download-studio3t-free/)

# ET框架导入

1. [直接下载ET 7.2 版本](https://github.com/egametang/ET/tree/release7.2)

   解压后如下

   ![image-20230708145355724](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708145355724.png)

2. 用Unity打开客户端项目，打开Scene/Init

3. 通过Unity打开C#工程（进行一次编译

   ![image-20230708152713105](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708152713105.png)

4. 编译完成后可以关闭了，然后打开ET工程中的ET.sln，编译所有工程

   ![](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153101781.png)

5. 编译完成之后可以运行，成功启动一个服务器

   ![image-20230708153234815](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153234815.png)

   没有日志，具体日志在Logs文件夹中

6. 编译客户端代码

   ![image-20230708153805053](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708153805053.png)

7. 运行Init场景，登录游戏

   在Debug.log可以看到确实有网络日志

# 打包进行多人测试

**由于ET 7.2引入了HyBirdCLR热更新，所以得先接入一下**

1. 确保编辑器安装了IL2CPP

   ![image-20230708160500380](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708160500380.png)

2. 安装HyBirdCLR包，先把项目内自带的删了（太老了）

   add from git url : https://gitee.com/focus-creative-games/hybridclr_unity.git

   然后使用默认安装即可

   ![image-20230708224137731](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/img202307082241765.png)

**开始打包测试**

1. 编译项目代码

   ![image-20230708173302966](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/imgimage-20230708173302966.png)

1. 先编译HyBirdCLR

   ![image-20230708170752857](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708170752857.png)

2. 利用打包工具打包![image-20230708154146425](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg@master/imgimage-20230708154146425.png)

4. 拷贝AOTDll

   ![image-20230708200222954](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/img202307082003648.png)

5. 再次打包

# 测试

先开服务器，然后运行ET/Release/ET.exe，同时运行Unity

可以发现两边已经同步了

![image-20230709013428092](https://cdn.jsdelivr.net/gh/Gasskin/CloudImg/img202307090134194.png)





















