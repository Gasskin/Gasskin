---
title: "ET|11 登录流程"
categories: ET
tags: 服务器
---

登录的入口在类LoginHelper中，只有一个方法

```c#
public static class LoginHelper
{
    public static async ETTask Login(Scene root, string account, string password)
    {
        root.RemoveComponent<ClientSenderComponent>();
        
        ClientSenderComponent clientSenderComponent = root.AddComponent<ClientSenderComponent>();
        
        long playerId = await clientSenderComponent.LoginAsync(account, password);

        await ETTask.CompletedTask;
    }
}
```

很明显，核心逻辑都在组件ClientSenderComponent中，这里传入的Scene是MainScene，但是如我们之前所说，客户端和服务器的交互逻辑其实是在NetClientScene中进行的

所以我们详细了解一下这个组件

```c#
[ComponentOf(typeof(Scene))]
public class ClientSenderComponent: Entity, IAwake, IDestroy
{
    public int fiberId;

    public ActorId netClientActorId;
}
```





